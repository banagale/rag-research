# Security Bulletin Extraction Framework Implementation
## Project Context
This project implements a Security Bulletin Extraction Framework to automate extraction of security bulletin data from vendor websites using LLM technology. The goal is to reduce vendor onboarding time by 80% while achieving 75%+ extraction accuracy.
Key project information:
- 10-week timeline (March-May 2025)
- Initial focus: Broadcom and AMD security bulletins
- Evaluating different LLM-based extraction methods
- Needs to integrate with existing crawler infrastructure
## Current Implementation Status
- Core project structure established
- GCS integration implemented and tested
- Basic HTML preprocessing module implemented
- CSV normalization by CVE completed
- Raw NVIDIA bulletin data stored in GCS bucket
## Next Implementation Tasks
### 1. Complete Preprocessing Pipeline
- Fix HTML cleaner tests (add pytest-asyncio, adjust token count)
- Implement vendor-specific preprocessing classes
- Create bulletin processor to integrate GCS with preprocessing
### 2. Schema & Models
- Define bulletin data schema
- Create Pydantic models for vendor-specific formats
- Add JSON output formatting utilities
### 3. Direct Extraction Engine
- Create base extraction class
- Implement LLM integration using litellm
- Develop prompt templates for different vendors
- Add extraction confidence scoring


## Key Reference Resources
- File `/code/eclypsium/macrodata/core/storage/gcs.py`: GCS integration
- File `/code/eclypsium/macrodata/core/preprocessing/html/cleaner.py`: HTML preprocessing
- File `/code/eclypsium/macrodata/tmp/nvidia/nvidia_scraper.py`: NVIDIA data acquisition
- Security-bulletins-utils repository for integration patterns
- Project directory structure based on devops specification
## Current Directory Structure
See Product Knowledge: **Project Structure and files as of 3/18/25**


## Expert Guidance Instructions

Your role is to act as an expert software engineer with deep expertise in Python, ML engineering, and software architecture. Your advice and code must meet the standards of principal AI engineers from Anthropic, OpenAI, Meta, and Google.

### Interaction Guidelines
1. **Always explain before coding**: Do not output long code samples without first explaining your plan and getting explicit confirmation to proceed.
2. **Ask clarifying questions**: When information is ambiguous or incomplete, ask specific questions before providing solutions.
3. **Step-by-step approach**: Break down complex tasks into manageable steps, explaining your reasoning at each stage.
4. **Code quality standards**: All code must be production-ready, well-tested, and follow best practices. Your solutions will be reviewed by a panel of principal AI engineers.
5. **Challenge assumptions**: If you see potential issues with the approach, respectfully suggest alternatives with clear reasoning.

### Code Output Guidelines
1. **Confirm before providing substantial code**: Get explicit permission before outputting more than 15-20 lines of code.
2. **Include docstrings and comments**: All code must be properly documented.
3. **Error handling**: Implement robust error handling and logging.
4. **Testing approach**: Suggest appropriate tests for any code you provide.
5. **Implementation trade-offs**: Explain the pros and cons of your implementation choices.

### Implementation Guidelines
1. Favor modular, reusable components
2. Follow the architecture in the DevOps specification
3. Leverage existing security-bulletins-utils code where appropriate
4. Use test-driven development
5. Create focused components with single responsibilities
6. Document the API and integration points

When discussing technical implementation details, focus on concrete, actionable advice rather than general explanations.

---

I'm specifically working to complete this issue first:

```
This XML file does not appear to have any style information associated with it. The document tree is shown below.
<!--  
RSS generated by JIRA (1001.0.0-SNAPSHOT#100282-rev:636312f2dc6e26921216979d4ae12655beeff255) at Tue Mar 18 20:55:38 GMT 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
 -->
<rss version="0.92">
<channel>
<title>Jira</title>
<link>https://eclypsium.atlassian.net</link>
<description>This file is an XML representation of an issue</description>
<language>en-us</language>
<build-info>
<version>1001.0.0-SNAPSHOT</version>
<build-number>100282</build-number>
<build-date>17-03-2025</build-date>
</build-info>
<item>
<title>[DATA-4110] Build out mvp pipeline for direct extraction</title>
<link>https://eclypsium.atlassian.net/browse/DATA-4110</link>
<project id="10126" key="DATA">DATA</project>
<description><p>This is to make data available via integration to the engine, process it and have output available afterward.</p> <p>Validation via test harness will be done after mvp of this flow is implemented.</p> <ul> <li><b>Data Acquisition &amp; Preprocessing</b> <ul> <li>Place raw HTML on GCS and add interface to get it</li> <li>Normalize csv data by CVS rather than vendor ID</li> <li>Place csv in BigQuery and retrieve it</li> </ul> </li> <li><b>HTML Preprocessing</b> <ul> <li>Implement preprocessing pipeline to reduce html under study</li> </ul> </li> <li><b>Schema Definition</b> → <span class="jira-issue-macro resolved" data-jira-key="DATA-4066" > <a href="https://eclypsium.atlassian.net/browse/DATA-4066" class="jira-issue-macro-key issue-link" title="Define extraction schema and output format" > <img class="icon" src="https://eclypsium.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10315?size=medium" /> DATA-4066 </a> <span class="aui-lozenge aui-lozenge-subtle aui-lozenge-success jira-macro-single-issue-export-pdf">RELEASE READY</span> </span> <ul> <li>Have existing in <tt>crawlers-ai</tt></li> </ul> </li> <li><b>Direct Extraction Implementation</b> <ul> <li>Create extraction class with LLM integration</li> <li>Develop prompt templates</li> </ul> </li> </ul> </description>
<environment/>
<key id="142560">DATA-4110</key>
<summary>Build out mvp pipeline for direct extraction</summary>
<type id="10003" iconUrl="https://eclypsium.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10316?size=medium">Sub-task</type>
<parent id="142246">DATA-4067</parent>
<priority id="10005" iconUrl="https://eclypsium.atlassian.net/secure/attachment/39393/question.png">TBD</priority>
<status id="3" iconUrl="https://eclypsium.atlassian.net/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">IN PROGRESS</status>
<statusCategory id="4" key="indeterminate" colorName="yellow"/>
<resolution id="-1">Unresolved</resolution>
<assignee accountid="712020:0fbf171d-ac34-4dff-a220-153aea404412">rob.banagale</assignee>
<reporter accountid="712020:0fbf171d-ac34-4dff-a220-153aea404412">rob.banagale</reporter>
<labels> </labels>
<created>Thu, 13 Mar 2025 14:38:02 -0700</created>
<updated>Tue, 18 Mar 2025 08:18:01 -0700</updated>
<due/>
<votes>0</votes>
<watches>1</watches>
<comments>
<comment id="189019" author="712020:0fbf171d-ac34-4dff-a220-153aea404412" created="Fri, 14 Mar 2025 07:23:42 -0700"><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent"> <pre>fproj/data team / security-bulletins-collectors/ security-bulletins-palo-alto/strategies fproj/data team / security-bulletins-collectors / security-bulletins-utils</pre> </div></div></comment>
<comment id="189021" author="712020:0fbf171d-ac34-4dff-a220-153aea404412" created="Fri, 14 Mar 2025 07:27:36 -0700"><p>Using <a href="https://console.cloud.google.com/storage/browser/rob_banagale_work/macrodata/nvidia?pageState=(%22StorageObjectListTable%22:(%22f%22:%22%255B%255D%22))&amp;project=dataproject-x" class="external-link" rel="nofollow noreferrer">temp gcs bucket</a>:</p> <div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent"> <pre> DataProject/rob_banagale_work/macrodata</pre> </div></div></comment>
<comment id="189259" author="712020:0fbf171d-ac34-4dff-a220-153aea404412" created="Tue, 18 Mar 2025 08:18:01 -0700"><p>Completed the csv normalization, but haven’t put it up on bigquery. </p> <p>Completed pre-processing, (raw html cleanup) implemented as an abstract class using crawl4ai + some additional methods in <a href="https://gitlab.com/fproj/data-team/macrodata/-/merge_requests/2/commits" class="external-link" rel="nofollow noreferrer">this MR</a>.</p> <p>Moving to Direct Extraction implementation next.</p></comment>
</comments>
<attachments> </attachments>
<subtasks> </subtasks>
<customfields>
<customfield id="customfield_10255" key="com.atlassian.servicedesk.approvals-plugin:sd-approvals">
<customfieldname>Approvals</customfieldname>
<customfieldvalues> </customfieldvalues>
</customfield>
<customfield id="customfield_10398" key="com.atlassian.plugins.atlassian-connect-plugin:com.herocoders.plugins.jira.issuechecklist-free__issue-checklist-progress-field">
<customfieldname>Checklist Progress</customfieldname>
<customfieldvalues>
<customfieldvalue/>
</customfieldvalues>
</customfield>
<customfield id="customfield_10399" key="com.atlassian.plugins.atlassian-connect-plugin:com.herocoders.plugins.jira.issuechecklist-free__issue-checklist-progress-percent-field">
<customfieldname>Checklist Progress %</customfieldname>
<customfieldvalues>
<customfieldvalue>0.0</customfieldvalue>
</customfieldvalues>
</customfield>
<customfield id="customfield_10000" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummarycf">
<customfieldname>Development</customfieldname>
<customfieldvalues> </customfieldvalues>
</customfield>
<customfield id="customfield_10017" key="com.pyxis.greenhopper.jira:jsw-issue-color">
<customfieldname>Issue color</customfieldname>
<customfieldvalues>
<customfieldvalue>purple</customfieldvalue>
</customfieldvalues>
</customfield>
<customfield id="customfield_10002" key="com.atlassian.servicedesk:sd-customer-organizations">
<customfieldname>Organizations</customfieldname>
<customfieldvalues> </customfieldvalues>
</customfield>
<customfield id="customfield_10019" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
<customfieldname>Rank</customfieldname>
<customfieldvalues>
<customfieldvalue>0|i0zvhf:</customfieldvalue>
</customfieldvalues>
</customfield>
<customfield id="customfield_10020" key="com.pyxis.greenhopper.jira:gh-sprint">
<customfieldname>Sprint</customfieldname>
<customfieldvalues>
<customfieldvalue id="164">SprintY2025-S6</customfieldvalue>
</customfieldvalues>
</customfield>
</customfields>
</item>
</channel>
</rss>
```